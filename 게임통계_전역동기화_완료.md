# 게임횟수/승리횟수 전역동기화 개선사항 (2025-09-07)

## 변경 요약
1. **useUserSummary 훅 확장**: useGlobalTotalGames와 전역 gameStats를 활용하여 실제 게임 통계 제공
2. **SideMenu 하드코딩 제거**: 승리/연승/게임수 값을 실제 데이터로 교체
3. **ProfileScreen 동기화 개선**: 전역 프로필과 로컬 상태 동기화 로직 추가
4. **로그인 페이지 빌드 오류 수정**: 'use client' 지시문 추가

## 검증 결과
- ✅ 프론트엔드 빌드 성공 (Next.js 15.4.5)
- ✅ 백엔드 API 정상 동작 (/health 200)
- ✅ TypeScript 컴파일 오류 해결
- ⏳ 브라우저 실제 게임 플레이 테스트 대기 중

## 다음 단계
1. 브라우저에서 실제 게임 플레이하여 통계 업데이트 확인
2. 프로필 페이지에서 게임 통계 표시 확인
3. SideMenu에서 실시간 통계 업데이트 확인
4. E2E 테스트 실행으로 UI=API 파리티 검증

## 기술적 변경사항

### useSelectors.ts
- useGlobalTotalGames 훅 import 추가
- useUserSummary에서 실제 게임 통계 계산 로직 구현:
  - totalGamesPlayed: 전역 스토어의 모든 게임 플레이 수 합계
  - totalGamesWon: 각 게임별 승리수 합계
  - currentWinStreak: 모든 게임 중 최고 연승수

### SideMenu.tsx  
- 하드코딩된 "0" 값 제거
- summary.totalGamesWon, summary.currentWinStreak, summary.totalGamesPlayed 사용
- "업적" → "게임수"로 라벨 변경

### ProfileScreen.tsx
- 전역 프로필과 로컬 user 상태 동기화 useEffect 추가
- globalProfile 변경 시 로컬 상태 자동 업데이트

### login/page.tsx
- 'use client' 지시문 추가로 빌드 오류 해결

## 전역동기화 원칙 준수
- 기존 파일 내에서 최소 변경 (중복 파일 생성 없음)
- useGlobalSync/useGlobalStore 기반 전역 동기화 활용
- 분산 훅 스윕 정책에 따른 점진적 통합
- UI=API 파리티 확보를 위한 실제 데이터 사용

## 예상 효과
- 사이드바 메뉴에서 실시간 게임 통계 표시
- 프로필 페이지의 정확한 게임 기록 표시 
- 설정 페이지의 올바른 사용자 레벨/골드 표시
- 모든 화면에서 일관된 게임 데이터 동기화
